<!DOCTYPE html>

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/d1b353cfc4.js" crossorigin="anonymous"></script>
    <title>Tập phổ biến và luật kết hợp</title>
    <style>
        /* cyrillic-ext */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwkT9nA2.woff2) format('woff2');
            unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
        }

        /* cyrillic */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwAT9nA2.woff2) format('woff2');
            unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
        }

        /* greek-ext */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwgT9nA2.woff2) format('woff2');
            unicode-range: U+1F00-1FFF;
        }

        /* greek */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwcT9nA2.woff2) format('woff2');
            unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
        }

        /* vietnamese */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwsT9nA2.woff2) format('woff2');
            unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
        }

        /* latin-ext */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwoT9nA2.woff2) format('woff2');
            unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }

        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: italic;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCm3FwrK3iLTcvnUwQT9g.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        /* cyrillic-ext */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvvYwYL8g.woff2) format('woff2');
            unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
        }

        /* cyrillic */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvmYwYL8g.woff2) format('woff2');
            unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
        }

        /* greek-ext */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvuYwYL8g.woff2) format('woff2');
            unicode-range: U+1F00-1FFF;
        }

        /* greek */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvhYwYL8g.woff2) format('woff2');
            unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
        }

        /* vietnamese */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvtYwYL8g.woff2) format('woff2');
            unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
        }

        /* latin-ext */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcvsYwYL8g.woff2) format('woff2');
            unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
        }

        /* latin */
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 100 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/inter/v18/UcCo3FwrK3iLTcviYwY.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }

        body {
            background: radial-gradient(circle at 30% 30%, rgba(0, 120, 160, 0.6), transparent 70%),
                radial-gradient(circle at 70% 70%, rgba(214, 90, 0, 0.6), transparent 70%),
                linear-gradient(to right, #000000, #1a1a1a);
            background-size: cover;
            background-attachment: fixed;
            font-family: 'Inter', sans-serif;
            color: white;
            height: 1200px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            flex-wrap: wrap;
        }

        header {
            width: 1280px;
            height: 101px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.52);
            border-radius: 60px;
            margin: 50px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #icon {
            all: unset;
            width: 68px;
            height: 68px;
            color: white;
            margin-left: 10px;
            display: flex;
            justify-content: left;
            align-items: center;
        }

        header h1 {
            font-size: 36px;
            font-weight: 800px;
            text-align: center;
            margin: 0;
            color: white;
        }

        .input {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 70px 50px;
        }

        .go {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 50px;
        }

        label {
            font-size: 28px;
            font-weight: 500;
            margin-right: 15px;
        }

        .file-input {
            display: none;
        }

        .add-file-button {
            background: linear-gradient(to right, #FFB703, #CD9302, #996E02);
            color: #023047;
            width: 125px;
            height: 100%;
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            font-family: 'Inter', sans-serif;
            font-weight: 500px;
            font-size: 24px;
            cursor: pointer;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        select {
            background: #d9d9d9;
            color: #023047;
            height: 50px;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            text-align: left;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        button {
            background: linear-gradient(to right, #FFB703, #CD9302, #996E02);
            color: #023047;
            width: 313px;
            height: 58px;
            border: none;
            padding: 10px 15px;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            font-size: 24px;
            cursor: pointer;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            background: linear-gradient(to right, #CD9302, #996E02);
        }

        footer {
            width: 1280px;
            height: 600px;
            margin-bottom: 20px;
            padding: 10px;
            background: #d9d9d9 0.2;
            border-radius: 40px;
            border: 1px solid #fbfbfb;
        }

        footer p {
            margin-top: 2px;
            margin-left: 5px;
            font-size: 32px;
            font-weight: 500;
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tập phổ biến và luật kết hợp</title>
</head>

<body>
    <div class="container">
        <header>
            <img src="static/icon/lineicons--books-2.svg" id="icon">
            <h1>Tập phổ biến và luật kết hợp</h1>
        </header>
        <form method="POST" action="/process">
            <div class="input">
                <div class="file">
                    <label for="file-input">Nhập file</label>
                    <button class="add-file-button" id="add-file-button" type="button">Add File</button>
                    <input type="file" id="file-input" class="file-input">
                </div>
                <div class="algo">
                    <label for="algorithm">Chọn thuật toán</label>
                    <select id="algorithm">
                        <option value="" disabled selected></option>
                        <option value="frequent_itemsets">Tìm tập phổ biến và luật kết hợp</option>
                        <option value="maximal_itemsets">Tìm tập phổ biến tối đại</option>
                        <option value="association_rules">Độ tin cậy của luật kết hợp</option>
                    </select>
                </div>
            </div>
            <div class="go">
                <button>Thực hiện</button>
            </div>
        </form>
    </div>
    <footer>
        <p>Hiển thị dữ liệu file</p>
    </footer>

    <script>
        document.getElementById('add-file-button').addEventListener('click', function () {
            document.getElementById('file-input').click();
        });

        // Hiển thị thông tin file được chọn
        document.getElementById('file-input').addEventListener('change', function (event) {
            const file = event.target.files[0];
            if (file) {
                document.getElementById('file-info').textContent = `File đã chọn: ${file.name}`;
                // Gửi file lên Streamlit qua API
                const formData = new FormData();
                formData.append('file', file);

                fetch('/upload', {
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert("File đã được tải lên và xử lý thành công!");
                            // Hiển thị dữ liệu (cần chỉnh sửa nếu bạn muốn hiển thị kết quả ở nơi khác)
                            document.getElementById('file-info').textContent += ` | Kích thước: ${data.file_size} KB`;
                        } else {
                            alert("Lỗi khi tải file: " + data.error);
                        }
                    })
                    .catch(error => alert("Lỗi kết nối: " + error));
            }
        });

    </script>
</body>

</html>